---
import { ClientRouter } from "astro:transitions";
import NavBar from "../NavBar/NavBar.astro";

// Configuración para el fondo: "image" o "video"
const backgroundType = "video";
// Ruta del recurso (imagen o video)
const backgroundSource =
  "https://firebasestorage.googleapis.com/v0/b/pixelarstudiodb.appspot.com/o/vdr.mp4?alt=media&token=074195af-285b-4bc8-9bdf-34176411ebb2";
// Si prefieres usar imagen, cambia backgroundType a "image" y asigna la ruta adecuada.
---

<header class="relative">
  <ClientRouter />
  <!-- NavBar -->
  <NavBar />
  <!-- HERO -->
  <section class="relative w-full h-svh overflow-hidden">
    {
      backgroundType === "video" ? (
        <div id="heroBackground" class="absolute inset-0">
          <video autoplay muted loop class="w-full h-full object-cover">
            <source src={backgroundSource} type="video/mp4" />
          </video>
        </div>
      ) : (
        <div id="heroBackground" class="absolute inset-0">
          <img
            src={backgroundSource}
            alt="Fondo Hero"
            class="w-full h-full object-cover"
          />
        </div>
      )
    }
    <!-- Overlay oscuro -->
    <div class="absolute inset-0 bg-black opacity-30 shadow-2xs"></div>

    <!-- Contenido del Hero -->
    <div
      class="relative z-10 flex flex-col items-center justify-center h-full text-center px-4"
    >
      <h1
        id="heroTitle"
        class="text-3xl md:text-5xl lg:text-6xl font-bold text-white drop-shadow-lg hero-animate"
      >
        Bienvenido a VDR Salud
      </h1>
      <p
        id="heroSubtitle"
        class="mt-4 text-lg md:text-2xl text-gray-200 hero-animate"
      >
        Cuidamos tu salud con excelencia y compromiso
      </p>
      <a
        id="heroBtn"
        href="/contacto"
        class="mt-8 inline-block px-6 py-3 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 hero-animate"
      >
        Solicita tu turno
      </a>
    </div>
  </section>
</header>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(1.25rem);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  /* La clase hero-animate aplica la animación y deja el texto visible al finalizar */
  .hero-animate {
    opacity: 1;
    transform: translateY(0);
    animation: fadeInUp 0.7s ease-out;
  }
</style>
